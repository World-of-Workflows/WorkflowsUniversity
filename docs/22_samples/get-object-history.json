{"$id":"1","definitionId":"8d8995be4415460c9382d27e082b5956","versionId":"6bc656e819584cc99de994e5b0434d97","name":"getObjectHistory","displayName":"get Object History (snippet)","version":1,"variables":{"$id":"2","data":{}},"customAttributes":{"$id":"3","data":{}},"isSingleton":false,"persistenceBehavior":"WorkflowBurst","deleteCompletedInstances":false,"isPublished":false,"isLatest":true,"createdAt":"2024-09-29T22:18:02.0271584Z","activities":[{"$id":"4","activityId":"28996b07-b35d-41bb-bcfb-abe95e634cdb","type":"SetVariable","displayName":"Set Variable JobHistory","x":340,"y":380,"persistWorkflow":false,"loadWorkflowContext":false,"saveWorkflowContext":false,"properties":[{"$id":"5","name":"VariableName","expressions":{"$id":"6","Literal":"JobHistory"}},{"$id":"7","name":"Value","syntax":"JavaScript","expressions":{"$id":"8","JavaScript":"activities.GetJobStatusHistory.ExpandedOutput();"}}],"propertyStorageProviders":{"$id":"9"}},{"$id":"10","activityId":"ecc63c36-6618-4be6-ace3-47c91b31bed3","type":"ObjectInstanceHistoryList","name":"GetJobStatusHistory","displayName":"List Object Instance History","x":200,"y":240,"persistWorkflow":false,"loadWorkflowContext":false,"saveWorkflowContext":false,"properties":[{"$id":"11","name":"ObjectType","expressions":{"$id":"12","Literal":"9"}},{"$id":"13","name":"InstanceId","syntax":"JavaScript","expressions":{"$id":"14","JavaScript":"getVariable(\"jobid\")"}},{"$id":"15","name":"Filter","expressions":{"$id":"16"}},{"$id":"17","name":"Skip","expressions":{"$id":"18"}},{"$id":"19","name":"Limit","expressions":{"$id":"20","Literal":"1"}},{"$id":"21","name":"OrderBy","expressions":{"$id":"22","Literal":"Version desc"}},{"$id":"23","name":"Expand","expressions":{"$id":"24","Literal":"true"}},{"$id":"25","name":"IncludeCurrentState","expressions":{"$id":"26","Literal":"false"}}],"propertyStorageProviders":{"$id":"27"}},{"$id":"28","activityId":"8fd27b5b-f654-4d1f-9b35-f149b72dbe28","type":"SetVariable","displayName":"Set Variable - PreviousState","x":480,"y":520,"persistWorkflow":false,"loadWorkflowContext":false,"saveWorkflowContext":false,"properties":[{"$id":"29","name":"VariableName","expressions":{"$id":"30","Literal":"PreviousState"}},{"$id":"31","name":"Value","syntax":"JavaScript","expressions":{"$id":"32","JavaScript":"const status = activities.GetJobStatusHistory.ExpandedOutput()[0].Status;\r\nconst prevState = status[status.length-1];\r\nreturn prevState;"}}],"propertyStorageProviders":{"$id":"33"}}],"connections":[{"$id":"34","sourceActivityId":"ecc63c36-6618-4be6-ace3-47c91b31bed3","targetActivityId":"28996b07-b35d-41bb-bcfb-abe95e634cdb","outcome":"Done"},{"$id":"35","sourceActivityId":"28996b07-b35d-41bb-bcfb-abe95e634cdb","targetActivityId":"8fd27b5b-f654-4d1f-9b35-f149b72dbe28","outcome":"Done"}],"id":"6bc656e819584cc99de994e5b0434d97"}