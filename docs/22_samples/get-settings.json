{"$id":"1","definitionId":"e73046e8e5d34c648f1a441c2e45d46d","versionId":"a97511f7c3e14cc69b96e733a242afba","name":"GetSettings","displayName":"Get Settings","version":1,"variables":{"$id":"2","data":{}},"customAttributes":{"$id":"3","data":{}},"isSingleton":false,"persistenceBehavior":"WorkflowBurst","deleteCompletedInstances":false,"isPublished":false,"isLatest":true,"createdAt":"2024-09-29T21:59:43.8660191Z","activities":[{"$id":"4","activityId":"75328a82-b0d5-4bfb-b9bc-b7e4dac1607d","type":"RunJavaScript","displayName":"set up variables from settings","x":760,"y":260,"persistWorkflow":false,"loadWorkflowContext":false,"saveWorkflowContext":false,"properties":[{"$id":"5","name":"Script","syntax":"Literal","expressions":{"$id":"6","Literal":"// Define an array of key-value pairs\r\nconst keyVariableMappings = [\r\n    { variableName: \"PoweredBy\", key: \"PoweredByWoW\" },\r\n    { variableName: \"Logo\", key: \"Logo\" },\r\n    { variableName: \"LogoWhite\", key: \"LogoWhite\" },\r\n    { variableName: \"Style\", key: \"Style\" },\r\n    { variableName: \"authjs\", key: \"auth.js\" },\r\n    { variableName: \"PDFButton\", key: \"PDFButton\" },\r\n    { variableName: \"PDFButtonJS\", key: \"PDFButtonJS\" },\r\n    { variableName: \"StandardHeaderMatter\", key: \"StandardHeaderMatter\" }\r\n];\r\n\r\n// Function to get value by title from the JSON data\r\nfunction getValueByTitle(jsonData, key) {\r\n    for (let item of jsonData) {\r\n        if (item.Title === key) {\r\n            return item.Value;\r\n        }\r\n    }\r\n    return null; // Handle \"key not found\" as needed\r\n}\r\n\r\n// Loop through the array to set variables dynamically\r\nconst jsonData = activities.ListSettings.Output();\r\nkeyVariableMappings.forEach(mapping => {\r\n    setVariable(mapping.variableName, getValueByTitle(jsonData, mapping.key));\r\n});\r\n"}},{"$id":"7","name":"PossibleOutcomes","expressions":{"$id":"8"}}],"propertyStorageProviders":{"$id":"9"}},{"$id":"10","activityId":"ada74f84-adc1-4819-8172-26427a7b5d17","type":"ObjectInstanceList","name":"ListSettings","displayName":"List Settings","x":400,"y":240,"persistWorkflow":false,"loadWorkflowContext":false,"saveWorkflowContext":false,"properties":[{"$id":"11","name":"ObjectType","syntax":"Literal","expressions":{"$id":"12","Literal":"Settings"}},{"$id":"13","name":"Filter","expressions":{"$id":"14"}},{"$id":"15","name":"Skip","expressions":{"$id":"16"}},{"$id":"17","name":"Limit","expressions":{"$id":"18"}},{"$id":"19","name":"OrderBy","expressions":{"$id":"20"}}],"propertyStorageProviders":{"$id":"21"}}],"connections":[{"$id":"22","sourceActivityId":"ada74f84-adc1-4819-8172-26427a7b5d17","targetActivityId":"75328a82-b0d5-4bfb-b9bc-b7e4dac1607d","outcome":"Done"}],"id":"a97511f7c3e14cc69b96e733a242afba"}